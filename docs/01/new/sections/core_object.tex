\section{The Decision-Valued Map}

The central object of study is a mapping
\[
f \colon \mathcal{R} \to \mathcal{D},
\]
where $\mathcal{R}$ denotes a family of representations over a fixed snapshot $s$ and $\mathcal{D}$ denotes a set of discrete decision identities. For each representation $r \in \mathcal{R}$, the engine $E$ produces raw output $E(r)$, and the equivalence policy $\pi$ extracts a decision identity $d = \pi(E(r))$.

Three structural features of this map are observable through controlled variation of $\mathcal{R}$. Persistence regions are connected subsets of $\mathcal{R}$ over which $f$ is constant; within a persistence region, representational variation does not change the outcome. Boundaries are loci in $\mathcal{R}$ where $f$ changes value, separating two persistence regions with different decision identities. Fractures are boundaries where a small change in representation parameters induces a discrete identity change, indicating high sensitivity of the outcome to the representation.

The purpose of DecisionDB is to \emph{materialize} $f$, evaluating it at declared points in $\mathcal{R}$, storing the results as immutable artifacts, then making the resulting map queryable, replayable, auditable. Figure~\ref{fig:pipeline} illustrates this pipeline.

\begin{figure}[t]
  \centering
  \begin{tikzpicture}[
    node distance=10mm,
    box/.style={draw, rounded corners=4pt, align=center, inner sep=6pt, minimum height=14mm, text width=27mm, font=\avenirultralight\small, fill=blue!6},
    arrow/.style={-{Latex[length=3.5mm, width=2.5mm]}, thick, black!60}
  ]
  \node[box] (snap) {Snapshot $s$\\[2pt]{\scriptsize\color{black!50} frozen inputs}};
  \node[box, right=of snap] (rep) {Representation $r$\\[2pt]{\scriptsize\color{black!50} deterministic encoding}};
  \node[box, right=of rep] (eng) {Engine $E$\\[2pt]{\scriptsize\color{black!50} fixed procedure}};
  \node[box, right=of eng] (pol) {Policy $\pi$\\[2pt]{\scriptsize\color{black!50} decision identity $d$}};
  \node[box, below=16mm of $(rep.south)!0.5!(eng.south)$, text width=50mm] (map) {Decision map table\\[2pt]{\scriptsize\color{black!50} links $s$, $r$, $E$, $d$, $\pi$ by content hash}};

  \draw[arrow] (snap) -- (rep);
  \draw[arrow] (rep) -- (eng);
  \draw[arrow] (eng) -- (pol);
  \draw[arrow] (pol.south) -- ++(0,-0.5) -| (map.east);
  \draw[arrow] (snap.south) -- ++(0,-0.8) -| (map.west);
  \end{tikzpicture}
  \caption{Decision-valued mapping pipeline. A frozen snapshot is encoded into a representation, consumed by a fixed engine, then reduced to a discrete decision identity via an equivalence policy. The decision map table materializes these links using content-addressed identifiers. Each stage is immutable and content-addressed, so the full provenance chain from raw input to discrete outcome is recoverable at any later time.}
  \label{fig:pipeline}
\end{figure}
